<!--<img *ngIf="base64ImgFile" [src]="base64ImgFile" [title]="question.title" width="500" height="500">-->
<!--<div class="pic-preview" *ngIf="base64ImgFile" [ngStyle]="{background: 'url(' + base64ImgFile + ')'}"></div>-->

<!--<div class="container-fluid">-->
<div class="modalHeader bg-dark text-white">
    <div class="container">
        <div class="row">
            <div class="col-8">
                <h3><fa name="clone"></fa> Question - {{question.title}}</h3>
            </div>
            <div class="col-4">
                <a class="text-danger quit pull-right" (click)="quitModal()"><fa name="times"></fa></a>
            </div>
        </div>
    </div>
</div>
<div class="modalBody">
    <div class="container">
        <div id="carouselCard" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">

                <div class="carousel-item active">
                    <div class="row">
                        <div class="col-8">
                            <h4>{{question.title}}
                                <app-question-state-button [questionState]="question.questionState"
                                                           [direction]="'bottom'"
                                                           (click)="onQuestionStateButtonClicked($event, question.id)">
                                </app-question-state-button>
                            </h4>
                        </div>
                        <!--<div class="col-2 d-flex align-items-end">-->

                        <!--</div>-->
                        <div class="col-2 d-flex align-items-end ml-auto">
                            <app-rank-value class="ml-auto" [rank]="question.rank"></app-rank-value>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2">
                            <star-rating-comp [starType]="'svg'"
                                              [step]="0.5"
                                              [showHalfStars]="true"
                                              [size]="'medium'"
                                              [rating]="question.rank" [readOnly]="true"
                                              [staticColor]="'ok'" [labelPosition]="'left'">
                            </star-rating-comp>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 scroller">
                            {{question.description}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="pic-preview" [ngStyle]="{background: base64ImgFile ? 'url(' + base64ImgFile + ')' : '#d2d2d2'}"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3">
                            <span class="text-info">Solved By <strong>{{question.solvedCount}}</strong> Users</span>
                        </div>
                        <div class="col-3">
                            <span class="text-info">Ranked By <strong>{{question.rankedCount}}</strong> Users</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <span *ngFor="let skill of question.skills"
                                  class="badge badge-primary rounded">{{skill.name}}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="row">
                        <div class="col-12">
                            <h4>Question Description:</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-11">
                            <p>
                                {{question.description | truncate:200}}
                                <span class="badge badge-success pointer"
                                      (click)="togglePopover()"
                                      [placement]="'right'" [triggers]="'manual'"
                                      [ngbPopover]="question.description"
                                      #popOver="ngbPopover"
                                      [popoverTitle]="'Question Description'"
                                      [container]="'body'">
                                    Peek Question
                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <h5 class="text-primary">Post your solution:</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <ckeditor
                                    [(ngModel)]="ckEditorContent"
                                    [config]="ckEditorConfig">
                            </ckeditor>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-3"></div>
                        <div class="col-6">
                            <!--<button class="post-solution" type="button"-->
                                    <!--(click)="onPostSolution()">-->
                                <!--Post Solution-->
                            <!--</button>-->
                            <button class="post-solution" type="button"
                                    mwlConfirmationPopover
                                    [appendToBody]="true"
                                    [confirmText]="confirmTxt"
                                    [confirmButtonType]="'danger'"
                                    [popoverTitle]="'Post Solution'"
                                    [popoverMessage]="'Are you sure you want to post the solution?'"
                                    [placement]="'top'"
                                    (confirm)="onPostSolution()">
                                Post Solution
                            </button>
                        </div>
                        <div class="col-3"></div>
                    </div>
                    <!--<p [innerHTML]="ckEditorContent | santisizeHtml"></p>-->
                </div>
                <ol class="carousel-indicators text-dark">
                    <li data-target="#carouselCard" (click)="closePopover()" data-slide-to="0" class="text-dark active"></li>
                    <li data-target="#carouselCard" data-slide-to="1"></li>
                </ol>
            </div>
        </div>
    </div>
</div>
<div class="modalFooter bg-dark text-white">
    <div class="container">
        <div class="row">
            <div class="col-4">
                <span><strong>Created By </strong> {{question.createdByDisplayName}}</span>
            </div>
            <div class="col-4">
                <span><strong>Date Created </strong> {{question.dateCreated | amDateFormat: dateFormat}}</span>
            </div>
            <div class="col-4">
                <strong class="pull-right">{{question.id}}</strong>
            </div>
        </div>
    </div>
</div>